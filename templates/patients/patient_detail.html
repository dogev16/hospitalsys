{% extends "base.html" %}

{% block title %}ç—…äººè©³ç´°è³‡æ–™{% endblock %}

{% block content %}
<h1>ç—…äººè©³ç´°è³‡æ–™å–µ</h1>

<p>
  <a href="{% url 'patients:patient_list' %}">â† å›ç—…äººåˆ—è¡¨</a>
  |
  <a href="{% url 'patients:patient_update' patient.id %}">ç·¨è¼¯æ­¤ç—…äºº</a>
  |
  <a href="{% url 'appointments:new_for_patient' patient.id %}">ï¼‹ æ›¿æ­¤ç—…äººæ–°å¢æ›è™Ÿå–µ</a>
</p>

{# ğŸ‘‰ å…ˆé¡¯ç¤ºç—…äººåŸºæœ¬è³‡æ–™ #}
<table border="1" cellpadding="5" cellspacing="0">
  <tr>
    <th>ç—…æ­·è™Ÿ</th>
    <td>{{ patient.chart_no }}</td>
  </tr>
  <tr>
    <th>å§“å</th>
    <td>{{ patient.full_name }}</td>
  </tr>
  <tr>
    <th>èº«åˆ†è­‰</th>
    <td>{{ patient.national_id }}</td>
  </tr>
  <tr>
    <th>é›»è©±</th>
    <td>{{ patient.phone }}</td>
  </tr>
  <tr>
    <th>ç”Ÿæ—¥</th>
    <td>{{ patient.birth_date }}</td>
  </tr>
  <tr>
    <th>éæ•</th>
    <td>å°šæœªè¨˜éŒ„ï¼ˆä¹‹å¾Œè³‡æ–™è¡¨åŠ æ¬„ä½å†è£œï¼‰</td>
  </tr>
</table>

{# ğŸ‘‰ å†é¡¯ç¤ºæ›è™Ÿ / çœ‹è¨ºç´€éŒ„ #}
<h2 style="margin-top: 1.5rem;">æ›è™Ÿ / çœ‹è¨ºç´€éŒ„å–µ</h2>
{% if appointments %}
  <table border="1" cellpadding="5" cellspacing="0">
    <thead>
      <tr>
        <th>æ—¥æœŸ</th>
        <th>æ™‚é–“</th>
        <th>é†«å¸«</th>
        <th>ç‹€æ…‹</th>
      </tr>
    </thead>
    <tbody>
      {% for appt in appointments %}
        <tr>
          <td>{{ appt.date }}</td>
          <td>{{ appt.time|time:"H:i" }}</td>
          <td>{{ appt.doctor.name }}</td>
          <td>{{ appt.get_status_display }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% else %}
  <p>ç›®å‰æ²’æœ‰æ›è™Ÿæˆ–çœ‹è¨ºç´€éŒ„å–µï½</p>
{% endif %}

{% endblock %}
